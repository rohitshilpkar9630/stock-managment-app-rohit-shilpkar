<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Smart Stock Manager Pro</title>
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
  <style>
    @import url('https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap');

    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
      font-family: 'Inter', sans-serif;
    }

    body {
      background: linear-gradient(135deg, #0f1117 0%, #1a1d2e 100%);
      color: #fff;
      display: flex;
      height: 100vh;
      overflow: hidden;
    }

    .sidebar {
      width: 260px;
      background: rgba(20, 22, 30, 0.95);
      backdrop-filter: blur(20px);
      display: flex;
      flex-direction: column;
      padding: 2rem 0;
      border-right: 1px solid rgba(255,255,255,0.08);
      box-shadow: 5px 0 20px rgba(0,0,0,0.3);
    }

    .sidebar-header {
      padding: 0 1.5rem 2rem;
      border-bottom: 1px solid rgba(255,255,255,0.08);
    }

    .sidebar h2 {
      color: #ffb703;
      letter-spacing: 0.5px;
      font-size: 1.5rem;
      font-weight: 700;
      display: flex;
      align-items: center;
      gap: 0.5rem;
    }

    .sidebar-subtitle {
      font-size: 0.75rem;
      color: rgba(255,255,255,0.5);
      margin-top: 0.25rem;
    }

    .menu {
      list-style: none;
      padding: 1rem 0;
      flex: 1;
    }

    .menu li {
      padding: 12px 1.5rem;
      cursor: pointer;
      transition: all 0.3s ease;
      font-weight: 500;
      font-size: 0.95rem;
      display: flex;
      align-items: center;
      gap: 0.75rem;
      margin: 0.25rem 0.75rem;
      border-radius: 10px;
    }

    .menu li:before {
      content: '‚óè';
      font-size: 0.6rem;
      opacity: 0.5;
    }

    .menu li:hover {
      background: rgba(255, 183, 3, 0.1);
      color: #ffb703;
      transform: translateX(5px);
    }

    .menu li.active {
      background: linear-gradient(90deg, #ffb703, #fb8500);
      color: #0f1117;
      font-weight: 600;
      box-shadow: 0 4px 15px rgba(255, 183, 3, 0.3);
    }

    .menu li.active:before {
      opacity: 1;
    }

    .main {
      flex: 1;
      display: flex;
      flex-direction: column;
      overflow-y: auto;
      background: rgba(15, 17, 23, 0.5);
    }

    .topbar {
      display: flex;
      justify-content: space-between;
      align-items: center;
      padding: 1.5rem 2rem;
      background: rgba(20, 22, 30, 0.8);
      backdrop-filter: blur(10px);
      border-bottom: 1px solid rgba(255,255,255,0.08);
      position: sticky;
      top: 0;
      z-index: 10;
    }

    .topbar h1 {
      font-size: 1.75rem;
      font-weight: 700;
      background: linear-gradient(90deg, #fff, #ffb703);
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
    }

    .search-box {
      position: relative;
    }

    .search-box input {
      padding: 10px 15px 10px 40px;
      border-radius: 12px;
      border: 1px solid rgba(255, 255, 255, 0.1);
      outline: none;
      width: 280px;
      background: rgba(255, 255, 255, 0.05);
      color: #fff;
      transition: all 0.3s ease;
    }

    .search-box input:focus {
      background: rgba(255, 255, 255, 0.08);
      border-color: #ffb703;
      box-shadow: 0 0 20px rgba(255, 183, 3, 0.2);
    }

    .search-box:before {
      content: 'üîç';
      position: absolute;
      left: 12px;
      top: 50%;
      transform: translateY(-50%);
      opacity: 0.5;
    }

    .content-wrapper {
      padding: 2rem;
    }

    .section {
      display: none;
      animation: fadeIn 0.4s ease-in-out;
    }

    .section.active {
      display: block;
    }

    @keyframes fadeIn {
      from { opacity: 0; transform: translateY(15px); }
      to { opacity: 1; transform: translateY(0); }
    }

    .stats-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(220px, 1fr));
      gap: 1.5rem;
      margin-bottom: 2rem;
    }

    .stat-card {
      background: linear-gradient(135deg, rgba(255, 255, 255, 0.08) 0%, rgba(255, 255, 255, 0.03) 100%);
      border-radius: 16px;
      padding: 1.5rem;
      border: 1px solid rgba(255,255,255,0.08);
      transition: all 0.3s ease;
      position: relative;
      overflow: hidden;
    }

    .stat-card:before {
      content: '';
      position: absolute;
      top: 0;
      left: 0;
      right: 0;
      height: 3px;
      background: linear-gradient(90deg, #ffb703, #fb8500);
      transform: scaleX(0);
      transition: transform 0.3s ease;
    }

    .stat-card:hover {
      transform: translateY(-5px);
      box-shadow: 0 10px 30px rgba(255, 183, 3, 0.2);
      border-color: rgba(255, 183, 3, 0.3);
    }

    .stat-card:hover:before {
      transform: scaleX(1);
    }

    .stat-label {
      font-size: 0.85rem;
      color: rgba(255,255,255,0.6);
      margin-bottom: 0.5rem;
      text-transform: uppercase;
      letter-spacing: 0.5px;
    }

    .stat-value {
      font-size: 2rem;
      font-weight: 700;
      color: #ffb703;
      margin-bottom: 0.25rem;
    }

    .stat-change {
      font-size: 0.8rem;
      color: #4ade80;
    }

    .chart-container {
      background: linear-gradient(135deg, rgba(255, 255, 255, 0.08) 0%, rgba(255, 255, 255, 0.03) 100%);
      border-radius: 20px;
      padding: 2rem;
      border: 1px solid rgba(255,255,255,0.08);
      box-shadow: 0 10px 40px rgba(0,0,0,0.3);
    }

    .chart-header {
      margin-bottom: 1.5rem;
    }

    .chart-title {
      font-size: 1.25rem;
      font-weight: 600;
      color: #fff;
    }

    .product-layout, .supplier-layout {
      display: grid;
      grid-template-columns: 350px 1fr;
      gap: 2rem;
      margin-top: 1.5rem;
    }

    .form-side {
      background: linear-gradient(135deg, rgba(255, 255, 255, 0.08) 0%, rgba(255, 255, 255, 0.03) 100%);
      border-radius: 16px;
      padding: 2rem;
      border: 1px solid rgba(255,255,255,0.08);
      height: fit-content;
      position: sticky;
      top: 120px;
    }

    .form-side h3 {
      margin-bottom: 1.5rem;
      color: #ffb703;
      font-size: 1.1rem;
    }

    .form-side input, .form-side select {
      width: 100%;
      padding: 12px 15px;
      margin-bottom: 1rem;
      border-radius: 10px;
      border: 1px solid rgba(255,255,255,0.1);
      background: rgba(255,255,255,0.05);
      color: #fff;
      outline: none;
      transition: all 0.3s ease;
      font-size: 0.95rem;
    }

    .form-side input:focus, .form-side select:focus {
      background: rgba(255,255,255,0.08);
      border-color: #ffb703;
      box-shadow: 0 0 15px rgba(255, 183, 3, 0.2);
    }

    .form-side input::placeholder {
      color: rgba(255,255,255,0.4);
    }

    .btn-primary {
      width: 100%;
      background: linear-gradient(90deg, #ffb703, #fb8500);
      border: none;
      color: #0f1117;
      padding: 12px;
      border-radius: 10px;
      cursor: pointer;
      transition: all 0.3s ease;
      font-weight: 600;
      font-size: 1rem;
      text-transform: uppercase;
      letter-spacing: 0.5px;
    }

    .btn-primary:hover {
      transform: translateY(-2px);
      box-shadow: 0 8px 25px rgba(255, 183, 3, 0.4);
    }

    .btn-primary:active {
      transform: translateY(0);
    }

    .table-side {
      background: linear-gradient(135deg, rgba(255, 255, 255, 0.08) 0%, rgba(255, 255, 255, 0.03) 100%);
      border-radius: 16px;
      padding: 2rem;
      border: 1px solid rgba(255,255,255,0.08);
      overflow: hidden;
    }

    .table-wrapper {
      overflow-x: auto;
      max-height: 600px;
    }

    table {
      width: 100%;
      border-collapse: collapse;
    }

    th {
      background: rgba(255, 183, 3, 0.1);
      padding: 15px 12px;
      text-align: left;
      font-weight: 600;
      font-size: 0.85rem;
      text-transform: uppercase;
      letter-spacing: 0.5px;
      color: #ffb703;
      position: sticky;
      top: 0;
      z-index: 5;
    }

    td {
      padding: 15px 12px;
      border-bottom: 1px solid rgba(255,255,255,0.05);
      font-size: 0.95rem;
    }

    tr {
      transition: all 0.2s ease;
    }

    tr:hover {
      background: rgba(255, 183, 3, 0.08);
    }

    .btn-action {
      background: rgba(255, 183, 3, 0.2);
      border: 1px solid rgba(255, 183, 3, 0.3);
      color: #ffb703;
      padding: 6px 12px;
      border-radius: 6px;
      cursor: pointer;
      transition: all 0.2s ease;
      font-size: 0.85rem;
      margin-right: 0.5rem;
    }

    .btn-action:hover {
      background: rgba(255, 183, 3, 0.3);
      transform: scale(1.05);
    }

    .btn-delete {
      background: rgba(239, 68, 68, 0.2);
      border: 1px solid rgba(239, 68, 68, 0.3);
      color: #ef4444;
    }

    .btn-delete:hover {
      background: rgba(239, 68, 68, 0.3);
    }

    .stock-badge {
      padding: 4px 12px;
      border-radius: 20px;
      font-size: 0.8rem;
      font-weight: 600;
    }

    .stock-low {
      background: rgba(239, 68, 68, 0.2);
      color: #ef4444;
    }

    .stock-medium {
      background: rgba(251, 191, 36, 0.2);
      color: #fbbf24;
    }

    .stock-high {
      background: rgba(74, 222, 128, 0.2);
      color: #4ade80;
    }

    .empty-state {
      text-align: center;
      padding: 3rem;
      color: rgba(255,255,255,0.4);
    }

    .empty-state-icon {
      font-size: 3rem;
      margin-bottom: 1rem;
      opacity: 0.3;
    }

    @media (max-width: 1024px) {
      .product-layout, .supplier-layout {
        grid-template-columns: 1fr;
      }

      .form-side {
        position: relative;
        top: 0;
      }
    }

    @media (max-width: 768px) {
      .sidebar {
        width: 200px;
      }

      .search-box input {
        width: 180px;
      }

      .stats-grid {
        grid-template-columns: 1fr;
      }
    }
  </style>
</head>
<body>
  <div class="sidebar">
    <div class="sidebar-header">
      <h2>üì¶ Smart Stock</h2>
      <div class="sidebar-subtitle">Inventory Management</div>
    </div>
    <ul class="menu">
      <li data-section="dashboard" class="active">Dashboard</li>
      <li data-section="products">Products</li>
      <li data-section="suppliers">Suppliers</li>
      <li data-section="reports">Reports</li>
      <li data-section="settings">Settings</li>
    </ul>
  </div>

  <div class="main">
    <div class="topbar">
      <h1 id="pageTitle">Dashboard</h1>
      <div class="search-box">
        <input type="text" id="searchInput" placeholder="Search products, suppliers...">
      </div>
    </div>

    <div class="content-wrapper">
      <section class="section active" id="dashboard">
        <div class="stats-grid">
          <div class="stat-card">
            <div class="stat-label">Total Products</div>
            <div class="stat-value" id="totalProducts">0</div>
            <div class="stat-change">Active inventory items</div>
          </div>
          <div class="stat-card">
            <div class="stat-label">Total Stock Value</div>
            <div class="stat-value" id="totalValue">$0</div>
            <div class="stat-change">Current valuation</div>
          </div>
          <div class="stat-card">
            <div class="stat-label">Low Stock Items</div>
            <div class="stat-value" id="lowStockCount">0</div>
            <div class="stat-change">Items below 15 units</div>
          </div>
          <div class="stat-card">
            <div class="stat-label">Total Suppliers</div>
            <div class="stat-value" id="totalSuppliers">0</div>
            <div class="stat-change">Active suppliers</div>
          </div>
        </div>

        <div class="chart-container">
          <div class="chart-header">
            <div class="chart-title">üìä Stock Levels Overview</div>
          </div>
          <canvas id="stockChart"></canvas>
        </div>
      </section>

      <section class="section" id="products">
        <h2 style="margin-bottom: 1rem; font-size: 1.5rem;">Manage Products</h2>
        <div class="product-layout">
          <div class="form-side">
            <h3>Add New Product</h3>
            <input type="text" id="productName" placeholder="Product Name">
            <input type="number" id="productPrice" placeholder="Price ($)" step="0.01" min="0">
            <input type="number" id="productStock" placeholder="Stock Quantity" min="0">
            <select id="productSupplier">
              <option value="">Select Supplier</option>
            </select>
            <button class="btn-primary" id="addProduct">Add Product</button>
          </div>

          <div class="table-side">
            <div class="table-wrapper">
              <table>
                <thead>
                  <tr>
                    <th>#</th>
                    <th>Name</th>
                    <th>Price</th>
                    <th>Stock</th>
                    <th>Status</th>
                    <th>Supplier</th>
                    <th>Actions</th>
                  </tr>
                </thead>
                <tbody id="productTable"></tbody>
              </table>
            </div>
          </div>
        </div>
      </section>

      <section class="section" id="suppliers">
        <h2 style="margin-bottom: 1rem; font-size: 1.5rem;">Manage Suppliers</h2>
        <div class="supplier-layout">
          <div class="form-side">
            <h3>Add New Supplier</h3>
            <input type="text" id="supplierName" placeholder="Supplier Name">
            <input type="email" id="supplierContact" placeholder="Contact Email">
            <input type="tel" id="supplierPhone" placeholder="Phone Number">
            <input type="date" id="supplierDate">
            <button class="btn-primary" id="addSupplier">Add Supplier</button>
          </div>
          <div class="table-side">
            <div class="table-wrapper">
              <table>
                <thead>
                  <tr>
                    <th>#</th>
                    <th>Name</th>
                    <th>Contact</th>
                    <th>Phone</th>
                    <th>Last Supply</th>
                    <th>Actions</th>
                  </tr>
                </thead>
                <tbody id="supplierTable"></tbody>
              </table>
            </div>
          </div>
        </div>
      </section>

      <section class="section" id="reports">
        <h2 style="margin-bottom: 1rem; font-size: 1.5rem;">Reports & Analytics</h2>
        <div class="stats-grid">
          <div class="stat-card">
            <div class="stat-label">Average Stock Value</div>
            <div class="stat-value" id="avgStockValue">$0</div>
            <div class="stat-change">Per product</div>
          </div>
          <div class="stat-card">
            <div class="stat-label">Most Stocked Product</div>
            <div class="stat-value" id="mostStocked" style="font-size: 1.2rem;">-</div>
            <div class="stat-change">Highest quantity</div>
          </div>
          <div class="stat-card">
            <div class="stat-label">Least Stocked Product</div>
            <div class="stat-value" id="leastStocked" style="font-size: 1.2rem;">-</div>
            <div class="stat-change">Needs restocking</div>
          </div>
          <div class="stat-card">
            <div class="stat-label">Total Stock Units</div>
            <div class="stat-value" id="totalUnits">0</div>
            <div class="stat-change">All products combined</div>
          </div>
        </div>
      </section>

      <section class="section" id="settings">
        <h2 style="margin-bottom: 1rem; font-size: 1.5rem;">Settings</h2>
        <div class="form-side" style="max-width: 500px;">
          <h3>System Settings</h3>
          <label style="display: block; margin-bottom: 0.5rem; color: rgba(255,255,255,0.7); font-size: 0.9rem;">Low Stock Threshold</label>
          <input type="number" id="lowStockThreshold" value="15" min="1">
          <button class="btn-primary" id="saveSettings">Save Settings</button>
        </div>
      </section>
    </div>
  </div>

  <script>
    let products = [
      { id: 1, name: "Laptop Pro X", price: 1299.99, stock: 25, supplier: "TechCorp Inc" },
      { id: 2, name: "Wireless Mouse", price: 29.99, stock: 140, supplier: "ElectroHub" },
      { id: 3, name: "Mechanical Keyboard", price: 89.99, stock: 8, supplier: "KeyMasters" },
      { id: 4, name: "USB-C Hub", price: 45.50, stock: 60, supplier: "TechCorp Inc" },
      { id: 5, name: "Monitor 27\"", price: 349.99, stock: 18, supplier: "ScreenPro" }
    ];

    let suppliers = [
      { id: 1, name: "TechCorp Inc", contact: "sales@techcorp.com", phone: "+1-555-0101", lastSupply: "2025-10-28" },
      { id: 2, name: "ElectroHub", contact: "orders@electrohub.com", phone: "+1-555-0102", lastSupply: "2025-10-30" },
      { id: 3, name: "KeyMasters", contact: "info@keymasters.com", phone: "+1-555-0103", lastSupply: "2025-10-25" },
      { id: 4, name: "ScreenPro", contact: "support@screenpro.com", phone: "+1-555-0104", lastSupply: "2025-10-29" }
    ];

    let lowStockThreshold = 15;

    const menuItems = document.querySelectorAll('.menu li');
    const sections = document.querySelectorAll('.section');
    const pageTitle = document.getElementById('pageTitle');

    menuItems.forEach((item) => {
      item.addEventListener('click', () => {
        menuItems.forEach(i => i.classList.remove('active'));
        sections.forEach(s => s.classList.remove('active'));

        item.classList.add('active');
        const sectionId = item.getAttribute('data-section');
        document.getElementById(sectionId).classList.add('active');
        pageTitle.textContent = item.textContent;
      });
    });

    function updateStats() {
      document.getElementById('totalProducts').textContent = products.length;
      
      const totalValue = products.reduce((sum, p) => sum + (p.price * p.stock), 0);
      document.getElementById('totalValue').textContent = '$' + totalValue.toFixed(2);
      
      const lowStock = products.filter(p => p.stock < lowStockThreshold).length;
      document.getElementById('lowStockCount').textContent = lowStock;
      
      document.getElementById('totalSuppliers').textContent = suppliers.length;

      const avgValue = products.length > 0 ? (totalValue / products.length) : 0;
      document.getElementById('avgStockValue').textContent = '$' + avgValue.toFixed(2);

      const totalUnits = products.reduce((sum, p) => sum + p.stock, 0);
      document.getElementById('totalUnits').textContent = totalUnits;

      if (products.length > 0) {
        const maxStock = products.reduce((max, p) => p.stock > max.stock ? p : max);
        const minStock = products.reduce((min, p) => p.stock < min.stock ? p : min);
        document.getElementById('mostStocked').textContent = maxStock.name;
        document.getElementById('leastStocked').textContent = minStock.name;
      }
    }

    function getStockBadge(stock) {
      if (stock < lowStockThreshold) return `<span class="stock-badge stock-low">Low (${stock})</span>`;
      if (stock < 50) return `<span class="stock-badge stock-medium">Medium (${stock})</span>`;
      return `<span class="stock-badge stock-high">High (${stock})</span>`;
    }

    function updateSupplierSelect() {
      const select = document.getElementById('productSupplier');
      select.innerHTML = '<option value="">Select Supplier</option>';
      suppliers.forEach(s => {
        const option = document.createElement('option');
        option.value = s.name;
        option.textContent = s.name;
        select.appendChild(option);
      });
    }

    function renderProducts() {
      const tbody = document.getElementById('productTable');
      if (products.length === 0) {
        tbody.innerHTML = '<tr><td colspan="7" class="empty-state"><div class="empty-state-icon">üì¶</div><div>No products found. Add your first product!</div></td></tr>';
        return;
      }
      
      tbody.innerHTML = products.map((p, i) => `
        <tr>
          <td>${i + 1}</td>
          <td><strong>${p.name}</strong></td>
          <td>$${p.price.toFixed(2)}</td>
          <td>${p.stock}</td>
          <td>${getStockBadge(p.stock)}</td>
          <td>${p.supplier}</td>
          <td>
            <button class="btn-action" onclick="editProduct(${p.id})">‚úèÔ∏è Edit</button>
            <button class="btn-action btn-delete" onclick="deleteProduct(${p.id})">üóëÔ∏è Delete</button>
          </td>
        </tr>
      `).join('');
    }

    function renderSuppliers() {
      const tbody = document.getElementById('supplierTable');
      if (suppliers.length === 0) {
        tbody.innerHTML = '<tr><td colspan="6" class="empty-state"><div class="empty-state-icon">üè¢</div><div>No suppliers found. Add your first supplier!</div></td></tr>';
        return;
      }
      
      tbody.innerHTML = suppliers.map((s, i) => `
        <tr>
          <td>${i + 1}</td>
          <td><strong>${s.name}</strong></td>
          <td>${s.contact}</td>
          <td>${s.phone}</td>
          <td>${s.lastSupply}</td>
          <td>
            <button class="btn-action btn-delete" onclick="deleteSupplier(${s.id})">üóëÔ∏è Delete</button>
          </td>
        </tr>
      `).join('');
    }

    document.getElementById('addProduct').addEventListener('click', () => {
      const name = document.getElementById('productName').value.trim();
      const price = parseFloat(document.getElementById('productPrice').value);
      const stock = parseInt(document.getElementById('productStock').value);
      const supplier = document.getElementById('productSupplier').value;

      if (!name || !price || isNaN(stock) || !supplier) {
        alert('‚ö†Ô∏è Please fill all fields correctly!');
        return;
      }

      products.push({
        id: Date.now(),
        name,
        price,
        stock,
        supplier
      });

      document.getElementById('productName').value = '';
      document.getElementById('productPrice').value = '';
      document.getElementById('productStock').value = '';
      document.getElementById('productSupplier').value = '';

      renderProducts();
      updateChart();
      updateStats();
    });

    function deleteProduct(id) {
      if (confirm('Are you sure you want to delete this product?')) {
        products = products.filter(p => p.id !== id);
        renderProducts();
        updateChart();
        updateStats();
      }
    }

    function editProduct(id) {
      const product = products.find(p => p.id === id);
      if (product) {
        document.getElementById('productName').value = product.name;
        document.getElementById('productPrice').value = product.price;
        document.getElementById('productStock').value = product.stock;
        document.getElementById('productSupplier').value = product.supplier;
        deleteProduct(id);
      }
    }

    document.getElementById('addSupplier').addEventListener('click', () => {
      const name = document.getElementById('supplierName').value.trim();
      const contact = document.getElementById('supplierContact').value.trim();
      const phone = document.getElementById('supplierPhone').value.trim();
      const date = document.getElementById('supplierDate').value;

      if (!name || !contact || !phone || !date) {
        alert('‚ö†Ô∏è Please fill all supplier fields!');
        return;
      }

      suppliers.push({
        id: Date.now(),
        name,
        contact,
        phone,
        lastSupply: date
      });

      document.getElementById('supplierName').value = '';
      document.getElementById('supplierContact').value = '';
      document.getElementById('supplierPhone').value = '';
      document.getElementById('supplierDate').value = '';

      renderSuppliers();
      updateSupplierSelect();
      updateStats();
    });

    function deleteSupplier(id) {
      if (confirm('Are you sure you want to delete this supplier?')) {
        suppliers = suppliers.filter(s => s.id !== id);
        renderSuppliers();
        updateSupplierSelect();
        updateStats();
      }
    }

    const ctx = document.getElementById('stockChart').getContext('2d');
    let chart = new Chart(ctx, {
      type: 'bar',
      data: {
        labels: products.map(p => p.name),
        datasets: [{
          label: 'Stock Quantity',
          data: products.map(p => p.stock),
          backgroundColor: products.map(p => {
            if (p.stock < lowStockThreshold) return 'rgba(239, 68, 68, 0.8)';
            if (p.stock < 50) return 'rgba(251, 191, 36, 0.8)';
            return 'rgba(74, 222, 128, 0.8)';
          }),
          borderColor: products.map(p => {
            if (p.stock < lowStockThreshold) return '#ef4444';
            if (p.stock < 50) return '#fbbf24';
            return '#4ade80';
          }),
          borderWidth: 2,
          borderRadius: 8
        }]
      },
      options: {
        responsive: true,
        maintainAspectRatio: true,
        plugins: {
          legend: {
            display: true,
            labels: {
              color: '#fff',
              font: {
                size: 13,
                family: 'Inter'
              }
            }
          },
          tooltip: {
            backgroundColor: 'rgba(20, 22, 30, 0.95)',
            titleColor: '#ffb703',
            bodyColor: '#fff',
            borderColor: 'rgba(255, 183, 3, 0.3)',
            borderWidth: 1,
            padding: 12,
            displayColors: true,
            callbacks: {
              label: function(context) {
                return 'Stock: ' + context.parsed.y + ' units';
              }
            }
          }
        },
        scales: {
          y: {
            beginAtZero: true,
            grid: {
              color: 'rgba(255, 255, 255, 0.05)'
            },
            ticks: {
              color: 'rgba(255, 255, 255, 0.7)',
              font: {
                size: 12
              }
            }
          },
          x: {
            grid: {
              color: 'rgba(255, 255, 255, 0.05)'
            },
            ticks: {
              color: 'rgba(255, 255, 255, 0.7)',
              font: {
                size: 11
              },
              maxRotation: 45,
              minRotation: 0
            }
          }
        }
      }
    });

    function updateChart() {
      chart.data.labels = products.map(p => p.name);
      chart.data.datasets[0].data = products.map(p => p.stock);
      chart.data.datasets[0].backgroundColor = products.map(p => {
        if (p.stock < lowStockThreshold) return 'rgba(239, 68, 68, 0.8)';
        if (p.stock < 50) return 'rgba(251, 191, 36, 0.8)';
        return 'rgba(74, 222, 128, 0.8)';
      });
      chart.data.datasets[0].borderColor = products.map(p => {
        if (p.stock < lowStockThreshold) return '#ef4444';
        if (p.stock < 50) return '#fbbf24';
        return '#4ade80';
      });
      chart.update();
    }

    document.getElementById('searchInput').addEventListener('input', (e) => {
      const query = e.target.value.toLowerCase();
      const activeSection = document.querySelector('.section.active').id;

      if (activeSection === 'products') {
        const rows = document.querySelectorAll('#productTable tr');
        rows.forEach(row => {
          const text = row.textContent.toLowerCase();
          row.style.display = text.includes(query) ? '' : 'none';
        });
      } else if (activeSection === 'suppliers') {
        const rows = document.querySelectorAll('#supplierTable tr');
        rows.forEach(row => {
          const text = row.textContent.toLowerCase();
          row.style.display = text.includes(query) ? '' : 'none';
        });
      }
    });

    document.getElementById('saveSettings').addEventListener('click', () => {
      const threshold = parseInt(document.getElementById('lowStockThreshold').value);
      if (threshold && threshold > 0) {
        lowStockThreshold = threshold;
        updateStats();
        renderProducts();
        updateChart();
        alert('‚úÖ Settings saved successfully!');
      } else {
        alert('‚ö†Ô∏è Please enter a valid threshold value!');
      }
    });

    renderProducts();
    renderSuppliers();
    updateSupplierSelect();
    updateStats();
    updateChart();
  </script>
</body>
</html>
